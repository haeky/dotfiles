#!/bin/bash

set -e

read context namespace <<< $(kubectl config get-contexts --no-headers "$(kubectl config current-context)" | awk '{print $2 " " $5}')

header="┏━━ k8s_context ━━"
footer="┗━━━━━━━━━━━━━━━━━"
separator_width=$(expr $(tput cols) - ${#header})

printf "\033[0;36m$header"
printf "━%.0s" $(eval echo "{1..$separator_width}")
printf "\n\033[0m"

printf "\033[0;36m┃\033[0m Context: \033[0;32m$context\n\033[0m"
printf "\033[0;36m┃\033[0m Namespace: \033[0;35m$namespace\n\033[0m"

printf "\033[0;36m$footer"
printf "━%.0s" $(eval echo "{1..$separator_width}")
printf "\n\033[0m"
